# Техническое задание ТЗ

(структура ТЗ соответствует принципам IEEE 830 и адаптирована под Agile)

## 1.Введение

На основе собранных требований в файле requirements.md [Технические требования](Documentation/requirements.md) следующий этап разработки - проектирование архитектуры системы.
Составлено Техническое задание ТЗ, в котором описана схема взаимодействия всех компонентов системы, а также задокументированы алгоритмы рекомендаций и API.

## 2. Общие требования

Система рекомендаций контента предназначена для мультимедийной платформы, которая интегрирует несколько типов контента, таких как фильмы, сериалы, ТВ-каналы, спорт-трансляции и мультфильмы. Основной функцией системы является предоставление персонализированных рекомендаций контента на основе поведения пользователей на платформе.

## 3. Архитектура системы

Компоненты архитектуры системы:

1. **Модуль анализа предпочтений пользователей** — отслеживает историю просмотров и оценки пользователей
2. **Модуль рекомендаций** — использует алгоритмы (коллаборативная фильтрация и контентная фильтрация) для генерации рекомендаций
3. **API для интеграции с другими платформами** — получение данных о контенте с ТВ-платформ, спортивных каналов и других источников
4. **Консольный интерфейс** — для отображения рекомендаций и управления фильтрами

## 4. Алгоритм рекомендаций

Методы алгоритма рекомендаций:

1. **Коллаборативная фильтрация**:
   - Использует информацию о предпочтениях пользователей для предложения контента на основе схожих интересов
2. **Контентная фильтрация**:
   - Рекомендует контент, исходя из жанра и других характеристик (популярность, рейтинг)
3. **Смешанный подход**:
   - Комбинированное использование обеих фильтраций для более точных рекомендаций

## 5. Взаимодействие с API

Система взаимодействует с внешними API для получения данных о контенте:

- Список фильмов, сериалов, ТВ-каналов и спортивных трансляций
  Система использует несколько API для получения информации о контенте:
  - **API для фильмов и сериалов**: Позволяет получать данные о названиях, жанрах, описаниях, рейтингах, годах выпуска
  - **API для ТВ-каналов**: Данные о текущих и предстоящих трансляциях
  - **API для спортивных событий**: Для получения информации о спортивных трансляциях, командах, турнирах
- Рейтинги и отзывы пользователей
- Информация о новинках и расписаниях (для ТВ-каналов и спортивных событий)

API должно обеспечивать:

- Стандартные запросы для получения контента
- Обновление данных в реальном времени для обеспечения актуальности рекомендаций

Пример запроса:

```http
GET /api/v1/movies?genre=action&rating=8.0
```

## 6. Технические детали

### 6.1. База данных

Для хранения данных используется реляционная база данных (PostgreSQL), которая хранит:

- Информацию о пользователях
- Данные о контенте (фильмы, сериалы, спорт-трансляции, ТВ-контент, мультфильмы)
- Историю просмотров и оценки пользователей

### 6.2. Алгоритм рекомендаций

Механизм работы алгоритма рекомендаций:

1. Система анализирует данные о действиях пользователя
2. Применяется коллаборативная фильтрация для нахождения похожих пользователей
3. Используется контентная фильтрация для уточнения рекомендаций
4. Рекомендации сортируются и выводятся в консоль

### 6.3. Безопасность и защита данных

Система должна обеспечивать защиту персональных данных пользователей, включая:

- Шифрование данных (с использованием SSL/TLS)
- Аутентификацию и авторизацию через (OAuth)
- Соблюдение законодательства о защите данных (GDPR)

## 7. **User Stories**

Для обеспечения ясности требований и фокусировки на пользователе, представлены ключевые **User Stories**, которые описывают, как пользователи будут взаимодействовать с системой рекомендаций:

### 7.1. Получение персонализированных рекомендаций

<details>
<summary>Как пользователь, я хочу получать персонализированные рекомендации</summary>

**Как пользователь**, я хочу получать персонализированные рекомендации, чтобы легко находить контент, соответствующий моим интересам.

- **Acceptance Criteria**:
  - Система отслеживает историю просмотров и предпочтения пользователя
  - На основе этих данных генерируются персонализированные рекомендации

</details>

---

### 7.2. Фильтрация контента по жанрам

<details>
<summary>Как пользователь, я хочу фильтровать контент по жанрам</summary>

**Как пользователь**, я хочу фильтровать контент по жанрам, чтобы видеть только те фильмы и программы, которые мне интересны.

- **Acceptance Criteria**:
  - В интерфейсе есть возможность фильтровать контент по жанрам (драма, экшн, фантастика и т.д.)
  - Рекомендации отображаются в соответствии с выбранным фильтром

</details>

---

### 7.3. Сортировка контента по рейтингу

<details>
<summary>Как пользователь, я хочу сортировать контент по рейтингу</summary>

**Как пользователь**, я хочу сортировать контент по рейтингу, чтобы увидеть лучшие фильмы и шоу.

- **Acceptance Criteria**:
  - В интерфейсе имеется опция сортировки контента по рейтингу (топ-10)
  - Пользователь может выбрать сортировку по популярности или рейтингу

</details>

---

### 7.4. Получение рекомендаций в реальном времени

<details>
<summary>Как пользователь, я хочу получать рекомендации в реальном времени</summary>

**Как пользователь**, я хочу получать рекомендации в реальном времени, чтобы всегда видеть актуальные предложения.

- **Acceptance Criteria**:
  - Рекомендации обновляются при изменении истории просмотров или оценок
  - Пользователь получает актуальные рекомендации в течение нескольких секунд

</details>

---

### 7.5. Фильтрация контента по новизне

<details>
<summary>Как пользователь, я хочу фильтровать контент по новизне</summary>

**Как пользователь**, я хочу фильтровать контент по новизне, чтобы смотреть только новые фильмы или сериалы.

- **Acceptance Criteria**:
  - Возможность фильтровать контент по дате выхода (новинки, свежие выпуски)
  - Отображение только контента, который был выпущен недавно

</details>

---

### 7.6. Рекомендации на основе схожих интересов других пользователей

<details>
<summary>Как пользователь, я хочу, чтобы система рекомендовала мне контент на основе схожих интересов других пользователей</summary>

**Как пользователь**, я хочу, чтобы система рекомендовала мне контент на основе схожих интересов других пользователей, чтобы находить новое и интересное.

- **Acceptance Criteria**:
  - Система анализирует действия других пользователей с похожими интересами и предлагает схожие рекомендации

</details>

---

## 8. Тестирование

### 8.1. Модульное тестирование

Для каждого компонента системы разработано модульное тестирование с использованием фреймворка для юнит-тестов (NUnit), что обеспечивает корректную работу системы.

### 8.2. Интеграционное тестирование

Планируется проведение интеграционных тестов для проверки правильности взаимодействия компонентов системы (взаимодействие с API и получение рекомендаций).

## 9. Заключение

Данное техническое задание ТЗ является основой для реализации системы рекомендаций контента. В рамках проекта применены методы анализа предпочтений пользователей, фильтрации контента и использование внешних API для интеграции с другими платформами (мобильными приложениями, ТВ-платформами). Система должна обеспечивать высокую производительность, масштабируемость и устойчивость к сбоям, обеспечивая при этом качественный пользовательский опыт.
